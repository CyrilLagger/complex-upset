<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UpSet (Venn diagrams alternative) plots extensible with ggplot2 geoms â€¢ ComplexUpset</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="UpSet (Venn diagrams alternative) plots extensible with ggplot2 geoms">
<meta property="og:description" content="Get all the goodies of UpSet, but with full extensibility of ggplot2">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@krassowski">
<meta name="twitter:site" content="@krassowski">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ComplexUpset</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Examples_Python.html">Examples - Python</a>
    </li>
    <li>
      <a href="articles/Examples_R.html">Examples - R</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/krassowski/complex-upset/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="complexupset" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#complexupset" class="anchor"></a>ComplexUpset</h1></div>

<p>Quick links: <a href="https://krassowski.github.io/complex-upset/">Documentation</a> | <a href="https://github.com/krassowski/complex-upset#Install">Installation</a> | <a href="https://krassowski.github.io/complex-upset/articles/Examples_R.html">R examples</a> | <a href="https://krassowski.github.io/complex-upset/articles/Examples_Python.html">Python examples</a></p>
<div id="showcase" class="section level2">
<h2 class="hasAnchor">
<a href="#showcase" class="anchor"></a>Showcase</h2>
<p>Get all the goodies of <code>UpSetR</code>, but with full extensibility of <code>ggplot2</code>.</p>
<p><img src="https://raw.githubusercontent.com/krassowski/complex-upset/master/movies.png" alt="Example UpSet plot"></p>
<details><p><summary>Click here to display the source code</summary></p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ComplexUpset</span>)

<span class="kw">if</span>(!<span class="fu"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="no">ggplot2movies</span>)) <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">'ggplot2movies'</span>)
<span class="no">movies</span> <span class="kw">=</span> <span class="kw pkg">ggplot2movies</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/ggplot2movies/man/movies.html">movies</a></span>
<span class="no">genres</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Action'</span>, <span class="st">'Animation'</span>, <span class="st">'Comedy'</span>, <span class="st">'Drama'</span>, <span class="st">'Documentary'</span>, <span class="st">'Romance'</span>)

<span class="fu"><a href="reference/upset.html">upset</a></span>(
    <span class="no">movies</span>,
    <span class="no">genres</span>,
    <span class="kw">annotations</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
        <span class="st">'Length'</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
            <span class="kw">aes</span><span class="kw">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">intersection</span>, <span class="kw">y</span><span class="kw">=</span><span class="no">length</span>),
            <span class="kw">geom</span><span class="kw">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span>()
        ),
        <span class="st">'Rating'</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
            <span class="kw">aes</span><span class="kw">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span><span class="kw">=</span><span class="no">intersection</span>, <span class="kw">y</span><span class="kw">=</span><span class="no">rating</span>),
            <span class="kw">geom</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
                <span class="co"># if you do not want to install ggbeeswarm, you can use geom_jitter</span>
                <span class="kw pkg">ggbeeswarm</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggbeeswarm/man/geom_quasirandom.html">geom_quasirandom</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">color</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span>(<span class="no">votes</span>))),
                <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin</a></span>(<span class="kw">width</span><span class="kw">=</span><span class="fl">1.1</span>, <span class="kw">alpha</span><span class="kw">=</span><span class="fl">0.5</span>)
            )
        )
    ),
    <span class="kw">queries</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
        <span class="fu"><a href="reference/upset_query.html">upset_query</a></span>(
            <span class="kw">intersect</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Drama'</span>, <span class="st">'Comedy'</span>),
            <span class="kw">color</span><span class="kw">=</span><span class="st">'red'</span>,
            <span class="kw">fill</span><span class="kw">=</span><span class="st">'red'</span>,
            <span class="kw">only_components</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'intersections_matrix'</span>, <span class="st">'Intersection size'</span>)
        ),
        <span class="fu"><a href="reference/upset_query.html">upset_query</a></span>(
            <span class="kw">set</span><span class="kw">=</span><span class="st">'Drama'</span>,
            <span class="kw">fill</span><span class="kw">=</span><span class="st">'blue'</span>
        ),
        <span class="fu"><a href="reference/upset_query.html">upset_query</a></span>(
            <span class="kw">intersect</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Romance'</span>, <span class="st">'Drama'</span>),
            <span class="kw">fill</span><span class="kw">=</span><span class="st">'yellow'</span>,
            <span class="kw">only_components</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Length'</span>)
        )
    ),
    <span class="kw">min_size</span><span class="kw">=</span><span class="fl">10</span>,
    <span class="kw">width_ratio</span><span class="kw">=</span><span class="fl">0.1</span>
)</pre></div>
</details><p>The full list of examples is available in the <a href="https://krassowski.github.io/complex-upset/articles/Examples_Python.html">documentation</a>; it also contains instructions for the use from Python.</p>
</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>From <code>R</code> console run:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="kw">if</span>(!<span class="fu"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="no">devtools</span>)) <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"krassowski/complex-upset"</span>)</pre></div>
</div>
<div id="how-it-compares-to-other-packags" class="section level2">
<h2 class="hasAnchor">
<a href="#how-it-compares-to-other-packags" class="anchor"></a>How it compares to other packags?</h2>
<ul>
<li>
<a href="https://github.com/hms-dbmi/UpSetR">UpSetR</a> is a powerful tool and the pioneer in the UpSet visualisations; it was not designed to be extended with ggplot components. Unfortunately, the repository is no longer active (for two years now).</li>
<li>
<a href="https://github.com/const-ae/ggupset">ggupset</a> uses scales to convert a single plot to upsets plots, e.g.Â with <code>scale_x_upset</code> - a really nice approach, recommended for simple ggplot.</li>
<li>a cowplot-based upset was demonstrated in an <a href="https://rpubs.com/alexeilutay/upsetr">online publication</a>, however cowplot (a great tool at the time) got superceed by even greater tool: <a href="https://github.com/thomasp85/patchwork">pathwork</a>, which is what is used by ComplexUpset.</li>
</ul>
<p>Use whichever tool you find the most useful for your particular use. The rational of making this repository public is not only to share the code, but also to demonstrate how simple it is now to create complex visualisations with patchwork (without the need to learn the ggplot internals).</p>
<p>For the interactive use, check out the <a href="https://github.com/VCG/upset">VCG/upset</a>. Regardless of the tool chosen, you may want to cite <a href="https://dx.doi.org/10.1109/TVCG.2014.2346248">(Lex et al, 2014)</a> when using UpSet plots, especially in fields still dominated by Venn diagrams.</p>
</div>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<p>Originally developed in course of a DPhil programme in Womenâ€™s &amp; Reproductive Health at <a href="https://github.com/OxfordNuffieldWRH">OxfordNuffieldWRH</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/krassowski/complex-upset/">https://â€‹github.com/â€‹krassowski/â€‹complex-upset/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/krassowski/complex-upset/issues">https://â€‹github.com/â€‹krassowski/â€‹complex-upset/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>MichaÅ‚ Krassowski <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9638-7785" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/krassowski/complex-upset"><img src="https://travis-ci.org/krassowski/complex-upset.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/gh/krassowski/complex-upset"><img src="https://codecov.io/gh/krassowski/complex-upset/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/236336935"><img src="https://zenodo.org/badge/236336935.svg" alt="DOI"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by MichaÅ‚ Krassowski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
